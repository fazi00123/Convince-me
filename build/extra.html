<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Scrollable Modal</title>
<link rel="stylesheet" href="./assets/css/style.css">

</head>
<body class="">




<div class="slider-container h-[450px] md:h-[700px] 2xl:h-[1080px]">
  <div class="before-image">
    <img src="./assets/img/1.png" alt="Before Image">
    <div class="before-text">Before</div>
  </div>
  <div class="after-image">
    <img src="./assets/img/2.png" alt="After Image">
    <div class="after-text">After</div>
  </div>
  <div class="slider-handle" id="sliderHandle"></div>
  <div class="slider-line">
    <div class="pulse-container">
      <svg role="presentation" focusable="false" fill="none" width="50" height="50" viewBox="0 0 50 50">
        <g>
          <rect width="50" height="50" rx="25" fill="#ffffff"></rect>
          <path d="m19.25 19-6 6 6 6m11.5 0 6-6-6-6" stroke="#000000" stroke-width=".75" stroke-linecap="square"></path>
        </g>
      </svg>
    </div>

  </div>
</div>



<style>


.slider-container {
  margin: 0 auto;
  margin-top: 5rem;
  position: relative;
  /* width: 100%;
  max-width: 800px;
  height: 400px; */
  border-radius: 0.7rem;
  overflow: hidden;
}

.before-image,
.after-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* Styling the Before/After text */
.before-text,
.after-text {
  position: absolute;
  font-family: system-ui;
  font-size: 14px;
  font-weight: 600;
  color: #3a3a3a;
  z-index: 4;
  padding: 10px 20px;
  background-color: #ffffff9e;
  border-radius: 0.3rem;
  letter-spacing: 2px;
  transition: opacity 0.3s ease-in-out;
}

/* Before text */
.before-text {
  left: 20px; /* Position text to the left */
  top: 20px;
  z-index: 5;
}

/* After text */
.after-text {
  right: 20px; /* Position text to the right */
  top: 20px;
  z-index: 3;
}

/* Hide the After text initially */
.after-image .after-text {
  visibility: visible;
  z-index: 3;
}

.after-image {
  clip-path: inset(0 50% 0 0);
}

.slider-handle {
  position: absolute;
  top: 0;
  left: 50%;
  width: 0px;
  height: 100%;
  background-color: #fff;
  cursor: pointer;
  z-index: 2;
}

.slider-line {
  position: absolute;
  top: 0;
  left: 50%;
  width: 0px;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: transparent;
  z-index: 1;
}
.pulse-container {
  position: relative;
  display: inline-block;
}

.pulse-container::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 70px; /* Larger than the SVG */
  height: 70px;
  border-radius: 50%;
  background-color: #ffffff; /* Color of the pulse */
  transform: translate(-50%, -50%) scale(1);
  opacity: 0;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.8);
    opacity: 0;
  }
}

.slider-line svg {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
  cursor: pointer;
}
/* Prevent text/image selection while dragging */
.slider-container,
.before-image img,
.after-image img {
  user-select: none; /* Disable selection on most browsers */
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE10+ */
}

.slider-handle,
.slider-line {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

</style>


<script>
  const sliderHandle = document.querySelector("#sliderHandle");
const sliderLine = document.querySelector(".slider-line");
const beforeImage = document.querySelector(".before-image");
const afterImage = document.querySelector(".after-image");
const sliderContainer = document.querySelector(".slider-container");

let isDragging = false;

// Function to initialize the slider at the center position
const initializeSlider = () => {
  const containerWidth = sliderContainer.offsetWidth;

  // Set slider handle and line at center with a transition for initialization
  sliderHandle.style.transition = "left 0.3s ease";
  sliderLine.style.transition = "left 0.3s ease";

  sliderHandle.style.left = "50%";
  sliderLine.style.left = "50%";

  // Set both images' clip-path to 50% (center)
  beforeImage.style.clipPath = `inset(0 50% 0 0)`;
  afterImage.style.clipPath = `inset(0 0 0 50%)`;
};

// Function to move the slider based on user interaction
const moveSlider = (clientX) => {
  const containerRect = sliderContainer.getBoundingClientRect();
  let offsetX = clientX - containerRect.left;

  // Limit the slider movement within the full container width (0% to 100%)
  if (offsetX < 0) offsetX = 0; // Prevent overflow on the left
  if (offsetX > containerRect.width) offsetX = containerRect.width; // Prevent overflow on the right

  const percentage = Math.round((offsetX / containerRect.width) * 100);

  // Update the slider handle position and image clipping
  sliderHandle.style.left = `${percentage}%`;
  sliderLine.style.left = `${percentage}%`;

  // Adjust the clip-path for both images
  beforeImage.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
  afterImage.style.clipPath = `inset(0 0 0 ${percentage}%)`;
};

// Add event listeners for both the handle and the line (including the SVG)
const startDragging = () => {
  isDragging = true;

  // Remove transitions while dragging for instant feedback
  sliderHandle.style.transition = "none";
  sliderLine.style.transition = "none";
};

const stopDragging = () => {
  isDragging = false;

  // Reapply transitions after dragging ends
  sliderHandle.style.transition = "left 0.3s ease";
  sliderLine.style.transition = "left 0.3s ease";
};

sliderHandle.addEventListener("mousedown", startDragging);
sliderLine.addEventListener("mousedown", startDragging); // Make SVG and line draggable

window.addEventListener("mousemove", (event) => {
  if (isDragging) {
    moveSlider(event.clientX);
  }
});

window.addEventListener("mouseup", stopDragging);

// For touch events on mobile
sliderHandle.addEventListener("touchstart", startDragging);
sliderLine.addEventListener("touchstart", startDragging); // Make SVG and line draggable

window.addEventListener("touchmove", (event) => {
  if (isDragging) {
    moveSlider(event.touches[0].clientX);
  }
});

window.addEventListener("touchend", stopDragging);

// Initialize the slider on page load
window.addEventListener("load", initializeSlider);

</script>










</body>
</html>
